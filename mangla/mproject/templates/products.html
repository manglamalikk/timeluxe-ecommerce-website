{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TimeLuxé</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="{% static 'main/style.css' %}" />
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg bg-dark navbar-dark py-2">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="{% url 'home' %}">
        <span class="material-symbols-outlined">layers</span>
        <span class="ms-2"><span class="text-white">Time</span><span class="timeluxe-gold-text">Luxé</span></span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navmenu">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="navbar-collapse collapse" id="navmenu">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a href="{% url 'home' %}" class="nav-link">Home</a></li>
          <li class="nav-item"><a href="{% url 'products' %}" class="nav-link">Products</a></li>
          <li class="nav-item"><a href="{% url 'about' %}" class="nav-link">About</a></li>
          <li class="nav-item"><a href="{% url 'contact' %}" class="nav-link">Contact</a></li>
          <li class="nav-item"><a href="{% url 'register' %}" class="nav-link">Sign Up</a></li>
          <li class="nav-item"><a href="{% url 'login' %}" class="nav-link">Login</a></li>
          <li class="nav-item"><a href="{% url 'cart' %}" class="nav-link position-relative"><i class="fas fa-shopping-cart"></i></a></li>
          <li class="nav-item"><a href="{% url 'faq' %}" class="nav-link">FAQ</a></li>
        </ul>
      </div>
    </div>
  </nav>
<link rel="stylesheet" href="{% static 'main/style.css' %}" />
  <!-- Products Section -->
  <section class="products-section my-5">
    <div class="container">
      <h2 class="heading-explore text-center mb-4">All Products</h2>
      <!-- Filter Bar -->
      <div class="mb-4">
        <div class="row gx-2 align-items-end">
          <!-- Category (LEFT) -->
          <div class="col-md-6 col-6 pe-1">
            <label for="categoryFilter" class="form-label small mb-1 d-block">Category</label>
            <select id="categoryFilter" class="form-select form-select-sm">
              <option value="all">All</option>
              <option value="minimalist">Minimalist</option>
              <option value="chronograph">Chronograph</option>
              <option value="automatic">Automatic</option>
            </select>
          </div>
          <!-- Sort By (RIGHT) -->
          <div class="col-md-6 col-6 ps-1 text-end">
            <label for="sortFilter" class="form-label small mb-1 d-block">Sort By</label>
            <select id="sortFilter" class="form-select form-select-sm d-inline-block" style="width: auto">
              <option value="default">Default</option>
              <option value="price-asc">Price: Low to High</option>
              <option value="price-desc">Price: High to Low</option>
            </select>
          </div>
        </div>
      </div>
      <div class="row g-4" id="productGrid">
        <!-- Product items will be dynamically inserted here by JavaScript -->
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-dark text-light pt-5 pb-4">
    <div class="container">
      <div class="row">
        <div class="col-md-4 mb-4">
          <h5 class="mb-3"><span class="text-white">Time</span><span class="timeluxe-gold-text">Luxé</span></h5>
          <p class="text-light">
            Your trusted source for elegant and timeless watches crafted with precision and passion.
          </p>
        </div>
        <div class="col-md-2 mb-4">
          <h6 class="text-uppercase mb-3">Shop</h6>
          <ul class="list-unstyled">
            <li><a href="products.html" class="text-light text-decoration-none">All Products</a></li>
            <li><a href="new-arrivals.html" class="text-light text-decoration-none">New Arrivals</a></li>
            <li><a href="best-sellers.html" class="text-light text-decoration-none">Best Sellers</a></li>
            <li><a href="sale.html" class="text-light text-decoration-none">Sale</a></li>
          </ul>
        </div>
        <div class="col-md-2 mb-4">
          <h6 class="text-uppercase mb-3">Support</h6>
          <ul class="list-unstyled">
            <li><a href="faq.html" class="text-light text-decoration-none">FAQ</a></li>
            <li><a href="#shipping" class="text-light text-decoration-none">Shipping</a></li>
            <li><a href="#returns" class="text-light text-decoration-none">Returns</a></li>
            <li><a href="contact.html" class="text-light text-decoration-none">Contact Us</a></li>
          </ul>
        </div>
        <div class="col-md-4 mb-4 text-center text-md-end">
          <h6 class="text-uppercase mb-3">Follow us</h6>
          <div class="d-flex justify-content-center justify-content-md-end gap-3">
            <a href="#" class="text-light fs-4"><i class="fa-brands fa-youtube" style="color: red;"></i></a>
            <a href="#" class="text-light fs-4"><i class="fa-brands fa-twitter" style="color: #74C0FC;"></i></a>
            <a href="#" class="fs-4" style="display: inline-block;">
              <i class="fa-brands fa-instagram" style="
                font-size: 1.5rem;
                background: linear-gradient(45deg, #fd5d8b, #feda75);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent; 
                background-clip: text;
                color: transparent;"></i>
            </a>
            <a href="#" class="text-light fs-4"><i class="fa-brands fa-facebook" style="color: #709db5"></i></a>
          </div>
        </div>
      </div>
      <hr class="border-secondary">
      <div class="row">
        <div class="col-md-6 text-center text-md-start small text-light">
          © 2025 <strong>TimeLuxé</strong>. All rights reserved.
        </div>
        <div class="col-md-6 text-center text-md-end small">
          <a href="#privacy" class="text-light text-decoration-none me-3">Privacy Policy</a>
          <a href="#terms" class="text-light text-decoration-none me-3">Terms & Conditions</a>
          <a href="#cookies" class="text-light text-decoration-none">Cookie Policy</a>
        </div>
      </div>
    </div>
  </footer>


  <!-- Login Required Modal -->
  <div class="modal fade" id="loginRequiredModal" tabindex="-1" aria-labelledby="loginRequiredModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="loginRequiredModalLabel">Account Required</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <ul class="nav nav-tabs mb-3" id="loginSignupTabs" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login-pane" type="button" role="tab" aria-controls="login-pane" aria-selected="true">Login</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="signup-tab" data-bs-toggle="tab" data-bs-target="#signup-pane" type="button" role="tab" aria-controls="signup-pane" aria-selected="false">Sign Up</button>
            </li>
          </ul>
          <div class="tab-content" id="loginSignupTabContent">
            <div class="tab-pane fade show active" id="login-pane" role="tabpanel" aria-labelledby="login-tab" tabindex="0">
              <form id="modalLoginForm">
                <div class="mb-3">
                  <label for="modalLoginEmail" class="form-label">Email address</label>
                  <input type="email" class="form-control" id="modalLoginEmail" placeholder="name@example.com" required>
                </div>
                <div class="mb-3">
                  <label for="modalLoginPassword" class="form-label">Password</label>
                  <input type="password" class="form-control" id="modalLoginPassword" placeholder="********" required>
                </div>
                <div class="mb-3 form-check">
                  <input type="checkbox" class="form-check-input" id="modalRememberMe">
                  <label class="form-check-label" for="modalRememberMe">Remember me</label>
                </div>
                <button type="submit" class="btn btn-dark w-100 py-2 mb-3">Login</button>
                <p class="text-center"><a href="#" class="text-decoration-none text-gold">Forgot password?</a></p>
              </form>
            </div>
            <div class="tab-pane fade" id="signup-pane" role="tabpanel" aria-labelledby="signup-tab" tabindex="0">
              <form id="modalSignupForm">
                <div class="mb-3">
                  <label for="modalSignupName" class="form-label">Full Name</label>
                  <input type="text" class="form-control" id="modalSignupName" placeholder="John Doe" required>
                </div>
                <div class="mb-3">
                  <label for="modalSignupEmail" class="form-label">Email address</label>
                  <input type="email" class="form-control" id="modalSignupEmail" placeholder="name@example.com" required>
                </div>
                <div class="mb-3">
                  <label for="modalSignupPassword" class="form-label">Password</label>
                  <input type="password" class="form-control" id="modalSignupPassword" placeholder="********" required>
                </div>
                <div class="mb-4">
                  <label for="modalConfirmPassword" class="form-label">Confirm Password</label>
                  <input type="password" class="form-control" id="modalConfirmPassword" placeholder="********" required>
                </div>
                <button type="submit" class="btn btn-dark w-100 py-2 mb-3">Sign Up</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>

// // Product data with correct image paths
const products = [
  { name: 'Luxora', price: 22995.00, category: 'chronograph', image: 'images/Glashuette-Original-The-Senator-Chronograph-Panorama-Date-2.jpg' },
  { name: 'Tempora', price: 11235.00, category: 'minimalist', image: 'images/timex.jpg' },
  { name: 'Aurelia', price: 15745.00, category: 'automatic', image: 'images/OIP.jpeg' },
  { name: 'Velora', price: 31345.00, category: 'minimalist', image: 'images/duncan-van.jpg' },
  { name: 'Altiora', price: 34955.00, category: 'chronograph', image: 'images/quang-viet-nguyen-.jpg' },
  { name: 'NoirLux', price: 18495.00, category: 'automatic', image: 'images/quang-viet-nguyen.jpg' }
];

function filterAndSortProducts() {
  const categoryFilter = document.getElementById('categoryFilter');
  const sortFilter = document.getElementById('sortFilter');
  const productGrid = document.getElementById('productGrid');

  const category = categoryFilter.value;
  const sortBy = sortFilter.value;
  let filteredProducts = [...products];

  if (category !== 'all') {
    filteredProducts = filteredProducts.filter(product => product.category === category);
  }

  if (sortBy === 'price-asc') {
    filteredProducts.sort((a, b) => a.price - b.price);
  } else if (sortBy === 'price-desc') {
    filteredProducts.sort((a, b) => b.price - a.price);
  }

  productGrid.innerHTML = '';
  filteredProducts.forEach(product => {
    const productDiv = document.createElement('div');
    productDiv.className = 'col-lg-4 col-md-6 product-item';
    productDiv.dataset.category = product.category;
    productDiv.dataset.price = product.price;
    productDiv.innerHTML = `
      <div class="card card-explore h-100">
        <img src="${product.image}" class="card-img-top img-card" alt="${product.name}" onerror="this.onerror=null;this.src='images/placeholder.jpg';">
        <div class="card-body">
          <h5 class="card-title">${product.name}</h5>
          <p>MRP ₹ ${product.price.toFixed(2)}</p>
          <div class="d-flex gap-2">
            <button class="btn btn-add-to-cart flex-fill" onclick="addToCart('${product.name}', ${product.price}, '${product.image.replace(/'/g, "\\'")}')">Add to Cart</button>
            <button class="btn btn-buy-now flex-fill" onclick="buyNow('${product.name}', ${product.price}, '${product.image.replace(/'/g, "\\'")}')">Buy Now</button>
          </div>
        </div>
      </div>
    `;
    productGrid.appendChild(productDiv);
  });
}

document.addEventListener('DOMContentLoaded', () => {
  filterAndSortProducts();
  document.getElementById('categoryFilter').addEventListener('change', filterAndSortProducts);
  document.getElementById('sortFilter').addEventListener('change', filterAndSortProducts);
});
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="script.js"></script>
</body>
</html>
